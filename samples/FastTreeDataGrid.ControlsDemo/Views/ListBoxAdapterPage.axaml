<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="clr-namespace:FastTreeDataGrid.ControlsDemo.ViewModels"
             xmlns:controls="clr-namespace:FastTreeDataGrid.Control.Controls;assembly=FastTreeDataGrid.Control"
             xmlns:infra="clr-namespace:FastTreeDataGrid.Control.Infrastructure;assembly=FastTreeDataGrid.Control"
             xmlns:models="clr-namespace:FastTreeDataGrid.Control.Models;assembly=FastTreeDataGrid.Control"
             mc:Ignorable="d"
             x:Class="FastTreeDataGrid.ControlsDemo.Views.ListBoxAdapterPage"
             x:DataType="vm:ListBoxAdapterPageViewModel">
  <UserControl.Resources>
    <infra:FastTreeDataGridItemsAdapter x:Key="RemindersAdapter"
                                        Items="{Binding Reminders}" />
  </UserControl.Resources>

  <Grid RowDefinitions="Auto,*,Auto"
        RowSpacing="12">
    <TextBlock Text="Adapters: point the grid at your existing ObservableCollection just like ListBox."
               TextWrapping="Wrap"
               Foreground="#626262" />

    <Border Grid.Row="1"
            BorderBrush="#D5D5D5"
            BorderThickness="1"
            CornerRadius="6">
      <controls:FastTreeDataGrid ItemsSource="{Binding Source, Source={StaticResource RemindersAdapter}}"
                                 SelectionMode="Single"
                                 RowHeight="112"
                                 AreColumnHeadersVisible="False"
                                 IndentWidth="0"
                                 Background="Transparent">
        <controls:FastTreeDataGrid.Columns>
          <models:FastTreeDataGridColumn Header="Reminder"
                                         SizingMode="Star"
                                         ValueKey="{x:Static vm:ReminderItem.KeyTitle}">
            <models:FastTreeDataGridColumn.CellControlTemplate>
              <DataTemplate x:DataType="vm:ReminderItem">
                <Border Background="{DynamicResource ThemeControlLowBrush}"
                        CornerRadius="8"
                        Padding="12"
                        Margin="6"
                        BorderThickness="1"
                        BorderBrush="{DynamicResource ThemeControlMidBrush}">
                  <StackPanel Spacing="6">
                    <StackPanel Orientation="Horizontal"
                                Spacing="8">
                      <CheckBox IsChecked="{Binding IsPinned, Mode=TwoWay}"
                                Content="Pinned"
                                HorizontalAlignment="Left" />
                      <Border Background="#302F80ED"
                              Padding="4,2"
                              CornerRadius="4">
                        <TextBlock Text="{Binding Duration}"
                                   Foreground="#2F80ED" />
                      </Border>
                      <Border Background="#30FFB74D"
                              Padding="4,2"
                              CornerRadius="4">
                        <TextBlock Text="{Binding DueTime, StringFormat={}{0:t}}"
                                   Foreground="#2E7D32" />
                      </Border>
                    </StackPanel>
                    <TextBlock Text="{Binding Title}"
                               FontWeight="SemiBold"
                               FontSize="16" />
                    <TextBlock Text="{Binding Description}"
                               TextWrapping="Wrap"
                               Opacity="0.75" />
                  </StackPanel>
                </Border>
              </DataTemplate>
            </models:FastTreeDataGridColumn.CellControlTemplate>
          </models:FastTreeDataGridColumn>
        </controls:FastTreeDataGrid.Columns>
      </controls:FastTreeDataGrid>
    </Border>

    <Border Grid.Row="2"
            Background="#F6F6F6"
            BorderBrush="#D5D5D5"
            BorderThickness="1"
            CornerRadius="6"
            Padding="12">
      <TextBlock Text="Changes in the collection or model propagate through the adapter automatically."
                 TextWrapping="Wrap" />
    </Border>
  </Grid>
</UserControl>
