<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:fs="clr-namespace:FastTreeDataGrid.Demo.ViewModels.FileSystem"
        xmlns:infra="clr-namespace:FastTreeDataGrid.Control.Infrastructure;assembly=FastTreeDataGrid.Control"
        xmlns:vh="clr-namespace:FastTreeDataGrid.Demo.ViewModels.VariableHeights"
        xmlns:vm="clr-namespace:FastTreeDataGrid.Demo.ViewModels"
        xmlns:widgets="clr-namespace:FastTreeDataGrid.Demo.ViewModels.Widgets"
        mc:Ignorable="d"
        x:DataType="vm:MainWindowViewModel"
        d:DesignWidth="1024"
        d:DesignHeight="768"
        x:Class="FastTreeDataGrid.Demo.MainWindow"
        Title="FastTreeDataGrid Prototype">
  <Grid RowDefinitions="Auto,*" Margin="12">
    <StackPanel Orientation="Horizontal" Spacing="12">
      <TextBlock Text="FastTreeDataGrid Canvas Prototype" FontSize="18" FontWeight="SemiBold" />
      <TextBlock Text="(click rows to expand or collapse)" VerticalAlignment="Center" Foreground="#666" />
    </StackPanel>

    <TabControl Grid.Row="1" Margin="0,12,0,0" TabStripPlacement="Left">
      <TabItem Header="Files">
        <Grid RowDefinitions="Auto,*">
          <StackPanel Grid.Row="0"
                      Orientation="Horizontal"
                      Spacing="8"
                      Margin="0,0,0,8"
                      DataContext="{Binding Files}">
            <TextBox Width="240"
                     Watermark="Search files..."
                     Text="{Binding SearchText, UpdateSourceTrigger=PropertyChanged}" />
          </StackPanel>
          <Border Grid.Row="1" BorderBrush="#CCC" BorderThickness="1" CornerRadius="4" Padding="0" Margin="0">
            <FastTreeDataGrid x:Name="FilesGrid"
                              ItemsSource="{Binding Files.Source}"
                              RowHeight="28"
                              IndentWidth="18"
                              HeaderHeight="34" />
          </Border>
        </Grid>
      </TabItem>
      <TabItem Header="Files (XAML)">
        <Grid RowDefinitions="Auto,*">
          <StackPanel Grid.Row="0"
                      Orientation="Horizontal"
                      Spacing="8"
                      Margin="0,0,0,8"
                      DataContext="{Binding Files}">
            <TextBox Width="240"
                     Watermark="Search files..."
                     Text="{Binding SearchText, UpdateSourceTrigger=PropertyChanged}" />
          </StackPanel>
          <Border Grid.Row="1" BorderBrush="#CCC" BorderThickness="1" CornerRadius="4" Padding="0" Margin="0">
            <FastTreeDataGrid x:Name="FilesGridXaml"
                              ItemsSource="{Binding Files.Source}"
                              RowHeight="28"
                              IndentWidth="18"
                              HeaderHeight="34"
                              SortRequested="OnFilesSortRequested">
              <FastTreeDataGrid.Columns>
                <FastTreeDataGridColumn Header="Name"
                                        SizingMode="Star"
                                        MinWidth="280"
                                        IsHierarchy="True"
                                        CanUserSort="True"
                                        ValueKey="{x:Static fs:FileSystemNode.KeyName}">
                  <FastTreeDataGridColumn.CellTemplate>
                    <WidgetTemplate>
                      <FormattedTextWidget Key="{x:Static fs:FileSystemNode.KeyName}"
                                           EmSize="13"
                                           Trimming="CharacterEllipsis" />
                    </WidgetTemplate>
                  </FastTreeDataGridColumn.CellTemplate>
                </FastTreeDataGridColumn>
                <FastTreeDataGridColumn Header="Type"
                                        SizingMode="Pixel"
                                        PixelWidth="140"
                                        MinWidth="110"
                                        CanUserSort="True"
                                        ValueKey="{x:Static fs:FileSystemNode.KeyType}">
                  <FastTreeDataGridColumn.CellTemplate>
                    <WidgetTemplate>
                      <BadgeWidget Padding="6" />
                    </WidgetTemplate>
                  </FastTreeDataGridColumn.CellTemplate>
                </FastTreeDataGridColumn>
                <FastTreeDataGridColumn Header="Size"
                                        SizingMode="Pixel"
                                        PixelWidth="120"
                                        MinWidth="100"
                                        CanUserSort="True"
                                        ValueKey="{x:Static fs:FileSystemNode.KeySize}">
                  <FastTreeDataGridColumn.CellTemplate>
                    <WidgetTemplate>
                      <FormattedTextWidget TextAlignment="Right"
                                           EmSize="12"
                                           Trimming="CharacterEllipsis" />
                    </WidgetTemplate>
                  </FastTreeDataGridColumn.CellTemplate>
                </FastTreeDataGridColumn>
                <FastTreeDataGridColumn Header="Modified"
                                        SizingMode="Pixel"
                                        PixelWidth="160"
                                        MinWidth="140"
                                        CanUserSort="True"
                                        ValueKey="{x:Static fs:FileSystemNode.KeyModified}">
                  <FastTreeDataGridColumn.CellTemplate>
                    <WidgetTemplate>
                      <FormattedTextWidget EmSize="12"
                                           Trimming="CharacterEllipsis" />
                    </WidgetTemplate>
                  </FastTreeDataGridColumn.CellTemplate>
                </FastTreeDataGridColumn>
              </FastTreeDataGrid.Columns>
            </FastTreeDataGrid>
          </Border>
        </Grid>
      </TabItem>
      <TabItem Header="Countries">
        <Grid RowDefinitions="Auto,*">
          <StackPanel Grid.Row="0"
                      Orientation="Horizontal"
                      Spacing="8"
                      Margin="0,0,0,8"
                      DataContext="{Binding Countries}">
            <TextBox Width="220"
                     Watermark="Search countries..."
                     Text="{Binding SearchText, UpdateSourceTrigger=PropertyChanged}" />
            <TextBlock Text="Region:"
                       VerticalAlignment="Center" />
            <ComboBox Width="220"
                      ItemsSource="{Binding Regions}"
                      SelectedItem="{Binding SelectedRegion}"
                      VerticalAlignment="Center" />
          </StackPanel>
          <Border Grid.Row="1" BorderBrush="#CCC" BorderThickness="1" CornerRadius="4" Padding="0" Margin="0">
            <FastTreeDataGrid x:Name="CountriesGrid"
                              ItemsSource="{Binding Countries.Source}"
                              RowHeight="28"
                              IndentWidth="18"
                              HeaderHeight="34" />
          </Border>
        </Grid>
      </TabItem>
      <TabItem Header="Crypto">
        <Grid RowDefinitions="Auto,*">
          <StackPanel Grid.Row="0"
                      Orientation="Horizontal"
                      Spacing="8"
                      Margin="0,0,0,8"
                      DataContext="{Binding Crypto}">
            <TextBox Width="220"
                     Watermark="Search symbols..."
                     Text="{Binding SearchText, UpdateSourceTrigger=PropertyChanged}" />
            <TextBlock Text="Quote:"
                       VerticalAlignment="Center" />
            <ComboBox Width="160"
                      ItemsSource="{Binding Quotes}"
                      SelectedItem="{Binding SelectedQuote}"
                      VerticalAlignment="Center" />
          </StackPanel>
          <Border Grid.Row="1" BorderBrush="#CCC" BorderThickness="1" CornerRadius="4" Padding="0" Margin="0">
            <FastTreeDataGrid x:Name="CryptoGrid"
                              ItemsSource="{Binding Crypto.CryptoSource}"
                              RowHeight="28"
                              IndentWidth="18"
                              HeaderHeight="34" />
          </Border>
        </Grid>
      </TabItem>
      <TabItem Header="Charts">
        <Border BorderBrush="#CCC" BorderThickness="1" CornerRadius="4" Padding="0" Margin="0">
          <FastTreeDataGrid x:Name="ChartsGrid"
                            ItemsSource="{Binding Charts.Source}"
                            RowHeight="48"
                            IndentWidth="18"
                            HeaderHeight="36" />
        </Border>
      </TabItem>
      <TabItem Header="Variable Rows">
        <Border BorderBrush="#CCC" BorderThickness="1" CornerRadius="4" Padding="0" Margin="0">
          <FastTreeDataGrid x:Name="VariableRowsGrid"
                            ItemsSource="{Binding VariableHeights.Source}"
                            RowHeight="32"
                            IndentWidth="18"
                            HeaderHeight="36">
            <FastTreeDataGrid.RowLayout>
              <infra:FastTreeDataGridVariableRowLayout />
            </FastTreeDataGrid.RowLayout>
            <FastTreeDataGrid.Columns>
              <FastTreeDataGridColumn Header="Title"
                                      SizingMode="Star"
                                      MinWidth="280"
                                      IsHierarchy="True"
                                      ValueKey="{x:Static vh:VariableHeightSampleRow.KeyTitle}">
                <FastTreeDataGridColumn.CellTemplate>
                  <WidgetTemplate>
                    <FormattedTextWidget EmSize="13"
                                         Trimming="CharacterEllipsis" />
                  </WidgetTemplate>
                </FastTreeDataGridColumn.CellTemplate>
              </FastTreeDataGridColumn>
              <FastTreeDataGridColumn Header="Category"
                                      SizingMode="Pixel"
                                      PixelWidth="140"
                                      MinWidth="120"
                                      ValueKey="{x:Static vh:VariableHeightSampleRow.KeyCategory}">
                <FastTreeDataGridColumn.CellTemplate>
                  <WidgetTemplate>
                    <FormattedTextWidget EmSize="12"
                                         Trimming="CharacterEllipsis" />
                  </WidgetTemplate>
                </FastTreeDataGridColumn.CellTemplate>
              </FastTreeDataGridColumn>
              <FastTreeDataGridColumn Header="Height"
                                      SizingMode="Pixel"
                                      PixelWidth="120"
                                      MinWidth="100"
                                      ValueKey="{x:Static vh:VariableHeightSampleRow.KeyHeight}">
                <FastTreeDataGridColumn.CellTemplate>
                  <WidgetTemplate>
                    <FormattedTextWidget TextAlignment="Right"
                                         EmSize="12"
                                         Trimming="CharacterEllipsis" />
                  </WidgetTemplate>
                </FastTreeDataGridColumn.CellTemplate>
              </FastTreeDataGridColumn>
              <FastTreeDataGridColumn Header="Details"
                                      SizingMode="Star"
                                      MinWidth="260"
                                      ValueKey="{x:Static vh:VariableHeightSampleRow.KeyDetails}">
                <FastTreeDataGridColumn.CellTemplate>
                  <WidgetTemplate>
                    <FormattedTextWidget EmSize="12"
                                         Trimming="CharacterEllipsis" />
                  </WidgetTemplate>
                </FastTreeDataGridColumn.CellTemplate>
              </FastTreeDataGridColumn>
            </FastTreeDataGrid.Columns>
          </FastTreeDataGrid>
        </Border>
      </TabItem>
      <TabItem Header="Adaptive Rows">
        <Border BorderBrush="#CCC" BorderThickness="1" CornerRadius="4" Padding="0" Margin="0">
          <FastTreeDataGrid x:Name="AdaptiveRowsGrid"
                            ItemsSource="{Binding VariableHeightsAdaptive.Source}"
                            RowHeight="32"
                            IndentWidth="18"
                            HeaderHeight="36">
            <FastTreeDataGrid.RowLayout>
              <infra:FastTreeDataGridAdaptiveRowLayout ChunkSize="512" />
            </FastTreeDataGrid.RowLayout>
            <FastTreeDataGrid.Columns>
              <FastTreeDataGridColumn Header="Title"
                                      SizingMode="Star"
                                      MinWidth="280"
                                      IsHierarchy="True"
                                      ValueKey="{x:Static vh:VariableHeightSampleRow.KeyTitle}">
                <FastTreeDataGridColumn.CellTemplate>
                  <WidgetTemplate>
                    <FormattedTextWidget EmSize="13"
                                         Trimming="CharacterEllipsis" />
                  </WidgetTemplate>
                </FastTreeDataGridColumn.CellTemplate>
              </FastTreeDataGridColumn>
              <FastTreeDataGridColumn Header="Category"
                                      SizingMode="Pixel"
                                      PixelWidth="140"
                                      MinWidth="120"
                                      ValueKey="{x:Static vh:VariableHeightSampleRow.KeyCategory}">
                <FastTreeDataGridColumn.CellTemplate>
                  <WidgetTemplate>
                    <FormattedTextWidget EmSize="12"
                                         Trimming="CharacterEllipsis" />
                  </WidgetTemplate>
                </FastTreeDataGridColumn.CellTemplate>
              </FastTreeDataGridColumn>
              <FastTreeDataGridColumn Header="Height"
                                      SizingMode="Pixel"
                                      PixelWidth="120"
                                      MinWidth="100"
                                      ValueKey="{x:Static vh:VariableHeightSampleRow.KeyHeight}">
                <FastTreeDataGridColumn.CellTemplate>
                  <WidgetTemplate>
                    <FormattedTextWidget TextAlignment="Right"
                                         EmSize="12"
                                         Trimming="CharacterEllipsis" />
                  </WidgetTemplate>
                </FastTreeDataGridColumn.CellTemplate>
              </FastTreeDataGridColumn>
              <FastTreeDataGridColumn Header="Details"
                                      SizingMode="Star"
                                      MinWidth="260"
                                      ValueKey="{x:Static vh:VariableHeightSampleRow.KeyDetails}">
                <FastTreeDataGridColumn.CellTemplate>
                  <WidgetTemplate>
                    <FormattedTextWidget EmSize="12"
                                         Trimming="CharacterEllipsis" />
                  </WidgetTemplate>
                </FastTreeDataGridColumn.CellTemplate>
              </FastTreeDataGridColumn>
            </FastTreeDataGrid.Columns>
          </FastTreeDataGrid>
        </Border>
      </TabItem>
      <TabItem Header="Widgets">
        <Border BorderBrush="#CCC" BorderThickness="1" CornerRadius="4" Padding="0" Margin="0">
          <FastTreeDataGrid x:Name="WidgetsGrid"
                            ItemsSource="{Binding WidgetsSource}"
                            RowHeight="36"
                            IndentWidth="18"
                            HeaderHeight="36" />
        </Border>
      </TabItem>
      <TabItem Header="Gallery">
        <Border BorderBrush="#CCC" BorderThickness="1" CornerRadius="4" Padding="16" Margin="0">
          <ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto">
            <ItemsControl ItemsSource="{Binding WidgetBoards}">
              <ItemsControl.ItemTemplate>
                <DataTemplate>
                  <Border BorderBrush="#DDD" BorderThickness="1" CornerRadius="6" Padding="12" Margin="0,0,0,16">
                    <StackPanel Spacing="12">
                      <TextBlock Text="{Binding Title}" FontSize="16" FontWeight="SemiBold" />
                      <TextBlock Text="{Binding Description}" Foreground="#666" />
                      <ContentPresenter Content="{Binding Board}" />
                    </StackPanel>
                  </Border>
                </DataTemplate>
              </ItemsControl.ItemTemplate>
            </ItemsControl>
          </ScrollViewer>
        </Border>
      </TabItem>
      <TabItem Header="Data Sources">
        <TabControl>
          <TabItem Header="Widget Metrics">
            <Grid DataContext="{Binding DataSources}">
              <TabControl>
                <TabItem Header="Async">
                  <Border BorderBrush="#CCC" BorderThickness="1" CornerRadius="4" Padding="0" Margin="0,8,0,0">
                    <FastTreeDataGrid ItemsSource="{Binding AsyncWidgets}"
                                      RowHeight="36"
                                      IndentWidth="18"
                                      HeaderHeight="36">
                      <FastTreeDataGrid.Columns>
                        <FastTreeDataGridColumn Header="Widget"
                                                SizingMode="Star"
                                                MinWidth="260"
                                                IsHierarchy="True"
                                                ValueKey="{x:Static widgets:WidgetGalleryNode.KeyName}">
                          <FastTreeDataGridColumn.CellTemplate>
                            <WidgetTemplate>
                              <FormattedTextWidget EmSize="13" />
                            </WidgetTemplate>
                          </FastTreeDataGridColumn.CellTemplate>
                        </FastTreeDataGridColumn>
                        <FastTreeDataGridColumn Header="Details"
                                                SizingMode="Star"
                                                MinWidth="320"
                                                ValueKey="{x:Static widgets:WidgetGalleryNode.KeyDescription}">
                          <FastTreeDataGridColumn.CellTemplate>
                            <WidgetTemplate>
                              <FormattedTextWidget EmSize="12" Foreground="#666" />
                            </WidgetTemplate>
                          </FastTreeDataGridColumn.CellTemplate>
                        </FastTreeDataGridColumn>
                        <FastTreeDataGridColumn Header="Badge"
                                                SizingMode="Pixel"
                                                PixelWidth="140"
                                                ValueKey="{x:Static widgets:WidgetGalleryNode.KeyBadge}">
                          <FastTreeDataGridColumn.CellTemplate>
                            <WidgetTemplate>
                              <BadgeWidget Padding="6" />
                            </WidgetTemplate>
                          </FastTreeDataGridColumn.CellTemplate>
                        </FastTreeDataGridColumn>
                        <FastTreeDataGridColumn Header="Progress"
                                                SizingMode="Pixel"
                                                PixelWidth="180"
                                                ValueKey="{x:Static widgets:WidgetGalleryNode.KeyProgress}">
                          <FastTreeDataGridColumn.CellTemplate>
                            <WidgetTemplate>
                              <ProgressWidget />
                            </WidgetTemplate>
                          </FastTreeDataGridColumn.CellTemplate>
                        </FastTreeDataGridColumn>
                      </FastTreeDataGrid.Columns>
                    </FastTreeDataGrid>
                  </Border>
                </TabItem>
                <TabItem Header="Streaming">
                  <Border BorderBrush="#CCC" BorderThickness="1" CornerRadius="4" Padding="0" Margin="0,8,0,0">
                    <FastTreeDataGrid ItemsSource="{Binding StreamingWidgets}"
                                      RowHeight="36"
                                      IndentWidth="18"
                                      HeaderHeight="36">
                      <FastTreeDataGrid.Columns>
                        <FastTreeDataGridColumn Header="Widget"
                                                SizingMode="Star"
                                                MinWidth="260"
                                                IsHierarchy="True"
                                                ValueKey="{x:Static widgets:WidgetGalleryNode.KeyName}">
                          <FastTreeDataGridColumn.CellTemplate>
                            <WidgetTemplate>
                              <FormattedTextWidget EmSize="13" />
                            </WidgetTemplate>
                          </FastTreeDataGridColumn.CellTemplate>
                        </FastTreeDataGridColumn>
                        <FastTreeDataGridColumn Header="Details"
                                                SizingMode="Star"
                                                MinWidth="320"
                                                ValueKey="{x:Static widgets:WidgetGalleryNode.KeyDescription}">
                          <FastTreeDataGridColumn.CellTemplate>
                            <WidgetTemplate>
                              <FormattedTextWidget EmSize="12" Foreground="#666" />
                            </WidgetTemplate>
                          </FastTreeDataGridColumn.CellTemplate>
                        </FastTreeDataGridColumn>
                        <FastTreeDataGridColumn Header="Badge"
                                                SizingMode="Pixel"
                                                PixelWidth="140"
                                                ValueKey="{x:Static widgets:WidgetGalleryNode.KeyBadge}">
                          <FastTreeDataGridColumn.CellTemplate>
                            <WidgetTemplate>
                              <BadgeWidget Padding="6" />
                            </WidgetTemplate>
                          </FastTreeDataGridColumn.CellTemplate>
                        </FastTreeDataGridColumn>
                        <FastTreeDataGridColumn Header="Progress"
                                                SizingMode="Pixel"
                                                PixelWidth="180"
                                                ValueKey="{x:Static widgets:WidgetGalleryNode.KeyProgress}">
                          <FastTreeDataGridColumn.CellTemplate>
                            <WidgetTemplate>
                              <ProgressWidget />
                            </WidgetTemplate>
                          </FastTreeDataGridColumn.CellTemplate>
                        </FastTreeDataGridColumn>
                      </FastTreeDataGrid.Columns>
                    </FastTreeDataGrid>
                  </Border>
                </TabItem>
                <TabItem Header="Hybrid">
                  <Border BorderBrush="#CCC" BorderThickness="1" CornerRadius="4" Padding="0" Margin="0,8,0,0">
                    <FastTreeDataGrid ItemsSource="{Binding HybridWidgets}"
                                      RowHeight="36"
                                      IndentWidth="18"
                                      HeaderHeight="36">
                      <FastTreeDataGrid.Columns>
                        <FastTreeDataGridColumn Header="Widget"
                                                SizingMode="Star"
                                                MinWidth="260"
                                                IsHierarchy="True"
                                                ValueKey="{x:Static widgets:WidgetGalleryNode.KeyName}">
                          <FastTreeDataGridColumn.CellTemplate>
                            <WidgetTemplate>
                              <FormattedTextWidget EmSize="13" />
                            </WidgetTemplate>
                          </FastTreeDataGridColumn.CellTemplate>
                        </FastTreeDataGridColumn>
                        <FastTreeDataGridColumn Header="Details"
                                                SizingMode="Star"
                                                MinWidth="320"
                                                ValueKey="{x:Static widgets:WidgetGalleryNode.KeyDescription}">
                          <FastTreeDataGridColumn.CellTemplate>
                            <WidgetTemplate>
                              <FormattedTextWidget EmSize="12" Foreground="#666" />
                            </WidgetTemplate>
                          </FastTreeDataGridColumn.CellTemplate>
                        </FastTreeDataGridColumn>
                        <FastTreeDataGridColumn Header="Badge"
                                                SizingMode="Pixel"
                                                PixelWidth="140"
                                                ValueKey="{x:Static widgets:WidgetGalleryNode.KeyBadge}">
                          <FastTreeDataGridColumn.CellTemplate>
                            <WidgetTemplate>
                              <BadgeWidget Padding="6" />
                            </WidgetTemplate>
                          </FastTreeDataGridColumn.CellTemplate>
                        </FastTreeDataGridColumn>
                        <FastTreeDataGridColumn Header="Progress"
                                                SizingMode="Pixel"
                                                PixelWidth="180"
                                                ValueKey="{x:Static widgets:WidgetGalleryNode.KeyProgress}">
                          <FastTreeDataGridColumn.CellTemplate>
                            <WidgetTemplate>
                              <ProgressWidget />
                            </WidgetTemplate>
                          </FastTreeDataGridColumn.CellTemplate>
                        </FastTreeDataGridColumn>
                      </FastTreeDataGrid.Columns>
                    </FastTreeDataGrid>
                  </Border>
                </TabItem>
              </TabControl>
            </Grid>
          </TabItem>
          <TabItem Header="Dynamic Metrics">
            <Grid DataContext="{Binding DynamicDataSources}">
              <TabControl>
                <TabItem Header="Async">
                  <Border BorderBrush="#CCC" BorderThickness="1" CornerRadius="4" Padding="0" Margin="0,8,0,0">
                    <FastTreeDataGrid ItemsSource="{Binding AsyncSource}"
                                      RowHeight="32"
                                      IndentWidth="18"
                                      HeaderHeight="36">
                      <FastTreeDataGrid.Columns>
                        <FastTreeDataGridColumn Header="Node"
                                                SizingMode="Star"
                                                MinWidth="260"
                                                IsHierarchy="True"
                                                ValueKey="{x:Static vm:DynamicDataNode.KeyName}">
                          <FastTreeDataGridColumn.CellTemplate>
                            <WidgetTemplate>
                              <FormattedTextWidget EmSize="13" />
                            </WidgetTemplate>
                          </FastTreeDataGridColumn.CellTemplate>
                        </FastTreeDataGridColumn>
                        <FastTreeDataGridColumn Header="Type"
                                                SizingMode="Pixel"
                                                PixelWidth="140"
                                                ValueKey="{x:Static vm:DynamicDataNode.KeyCategory}">
                          <FastTreeDataGridColumn.CellTemplate>
                            <WidgetTemplate>
                              <FormattedTextWidget EmSize="12" />
                            </WidgetTemplate>
                          </FastTreeDataGridColumn.CellTemplate>
                        </FastTreeDataGridColumn>
                        <FastTreeDataGridColumn Header="Units"
                                                SizingMode="Pixel"
                                                PixelWidth="140"
                                                ValueKey="{x:Static vm:DynamicDataNode.KeyUnits}">
                          <FastTreeDataGridColumn.CellTemplate>
                            <WidgetTemplate>
                              <FormattedTextWidget TextAlignment="Right" EmSize="12" />
                            </WidgetTemplate>
                          </FastTreeDataGridColumn.CellTemplate>
                        </FastTreeDataGridColumn>
                        <FastTreeDataGridColumn Header="Volume"
                                                SizingMode="Pixel"
                                                PixelWidth="160"
                                                ValueKey="{x:Static vm:DynamicDataNode.KeyVolume}">
                          <FastTreeDataGridColumn.CellTemplate>
                            <WidgetTemplate>
                              <FormattedTextWidget TextAlignment="Right" EmSize="12" />
                            </WidgetTemplate>
                          </FastTreeDataGridColumn.CellTemplate>
                        </FastTreeDataGridColumn>
                        <FastTreeDataGridColumn Header="Δ%"
                                                SizingMode="Pixel"
                                                PixelWidth="100"
                                                ValueKey="{x:Static vm:DynamicDataNode.KeyChange}">
                          <FastTreeDataGridColumn.CellTemplate>
                            <WidgetTemplate>
                              <FormattedTextWidget TextAlignment="Right" EmSize="12" />
                            </WidgetTemplate>
                          </FastTreeDataGridColumn.CellTemplate>
                        </FastTreeDataGridColumn>
                        <FastTreeDataGridColumn Header="Load"
                                                SizingMode="Pixel"
                                                PixelWidth="160"
                                                ValueKey="{x:Static vm:DynamicDataNode.KeyLoad}">
                          <FastTreeDataGridColumn.CellTemplate>
                            <WidgetTemplate>
                              <ProgressWidget />
                            </WidgetTemplate>
                          </FastTreeDataGridColumn.CellTemplate>
                        </FastTreeDataGridColumn>
                        <FastTreeDataGridColumn Header="Status"
                                                SizingMode="Pixel"
                                                PixelWidth="120"
                                                ValueKey="{x:Static vm:DynamicDataNode.KeyStatus}">
                          <FastTreeDataGridColumn.CellTemplate>
                            <WidgetTemplate>
                              <BadgeWidget Padding="6" />
                            </WidgetTemplate>
                          </FastTreeDataGridColumn.CellTemplate>
                        </FastTreeDataGridColumn>
                      </FastTreeDataGrid.Columns>
                    </FastTreeDataGrid>
                  </Border>
                </TabItem>
                <TabItem Header="Streaming">
                  <Border BorderBrush="#CCC" BorderThickness="1" CornerRadius="4" Padding="0" Margin="0,8,0,0">
                    <FastTreeDataGrid ItemsSource="{Binding StreamingSource}"
                                      RowHeight="32"
                                      IndentWidth="18"
                                      HeaderHeight="36">
                      <FastTreeDataGrid.Columns>
                        <FastTreeDataGridColumn Header="Node"
                                                SizingMode="Star"
                                                MinWidth="260"
                                                IsHierarchy="True"
                                                ValueKey="{x:Static vm:DynamicDataNode.KeyName}">
                          <FastTreeDataGridColumn.CellTemplate>
                            <WidgetTemplate>
                              <FormattedTextWidget EmSize="13" />
                            </WidgetTemplate>
                          </FastTreeDataGridColumn.CellTemplate>
                        </FastTreeDataGridColumn>
                        <FastTreeDataGridColumn Header="Type"
                                                SizingMode="Pixel"
                                                PixelWidth="140"
                                                ValueKey="{x:Static vm:DynamicDataNode.KeyCategory}">
                          <FastTreeDataGridColumn.CellTemplate>
                            <WidgetTemplate>
                              <FormattedTextWidget EmSize="12" />
                            </WidgetTemplate>
                          </FastTreeDataGridColumn.CellTemplate>
                        </FastTreeDataGridColumn>
                        <FastTreeDataGridColumn Header="Units"
                                                SizingMode="Pixel"
                                                PixelWidth="140"
                                                ValueKey="{x:Static vm:DynamicDataNode.KeyUnits}">
                          <FastTreeDataGridColumn.CellTemplate>
                            <WidgetTemplate>
                              <FormattedTextWidget TextAlignment="Right" EmSize="12" />
                            </WidgetTemplate>
                          </FastTreeDataGridColumn.CellTemplate>
                        </FastTreeDataGridColumn>
                        <FastTreeDataGridColumn Header="Volume"
                                                SizingMode="Pixel"
                                                PixelWidth="160"
                                                ValueKey="{x:Static vm:DynamicDataNode.KeyVolume}">
                          <FastTreeDataGridColumn.CellTemplate>
                            <WidgetTemplate>
                              <FormattedTextWidget TextAlignment="Right" EmSize="12" />
                            </WidgetTemplate>
                          </FastTreeDataGridColumn.CellTemplate>
                        </FastTreeDataGridColumn>
                        <FastTreeDataGridColumn Header="Δ%"
                                                SizingMode="Pixel"
                                                PixelWidth="100"
                                                ValueKey="{x:Static vm:DynamicDataNode.KeyChange}">
                          <FastTreeDataGridColumn.CellTemplate>
                            <WidgetTemplate>
                              <FormattedTextWidget TextAlignment="Right" EmSize="12" />
                            </WidgetTemplate>
                          </FastTreeDataGridColumn.CellTemplate>
                        </FastTreeDataGridColumn>
                        <FastTreeDataGridColumn Header="Load"
                                                SizingMode="Pixel"
                                                PixelWidth="160"
                                                ValueKey="{x:Static vm:DynamicDataNode.KeyLoad}">
                          <FastTreeDataGridColumn.CellTemplate>
                            <WidgetTemplate>
                              <ProgressWidget />
                            </WidgetTemplate>
                          </FastTreeDataGridColumn.CellTemplate>
                        </FastTreeDataGridColumn>
                        <FastTreeDataGridColumn Header="Status"
                                                SizingMode="Pixel"
                                                PixelWidth="120"
                                                ValueKey="{x:Static vm:DynamicDataNode.KeyStatus}">
                          <FastTreeDataGridColumn.CellTemplate>
                            <WidgetTemplate>
                              <BadgeWidget Padding="6" />
                            </WidgetTemplate>
                          </FastTreeDataGridColumn.CellTemplate>
                        </FastTreeDataGridColumn>
                      </FastTreeDataGrid.Columns>
                    </FastTreeDataGrid>
                  </Border>
                </TabItem>
                <TabItem Header="Hybrid">
                  <Border BorderBrush="#CCC" BorderThickness="1" CornerRadius="4" Padding="0" Margin="0,8,0,0">
                    <FastTreeDataGrid ItemsSource="{Binding HybridSource}"
                                      RowHeight="32"
                                      IndentWidth="18"
                                      HeaderHeight="36">
                      <FastTreeDataGrid.Columns>
                        <FastTreeDataGridColumn Header="Node"
                                                SizingMode="Star"
                                                MinWidth="260"
                                                IsHierarchy="True"
                                                ValueKey="{x:Static vm:DynamicDataNode.KeyName}">
                          <FastTreeDataGridColumn.CellTemplate>
                            <WidgetTemplate>
                              <FormattedTextWidget EmSize="13" />
                            </WidgetTemplate>
                          </FastTreeDataGridColumn.CellTemplate>
                        </FastTreeDataGridColumn>
                        <FastTreeDataGridColumn Header="Type"
                                                SizingMode="Pixel"
                                                PixelWidth="140"
                                                ValueKey="{x:Static vm:DynamicDataNode.KeyCategory}">
                          <FastTreeDataGridColumn.CellTemplate>
                            <WidgetTemplate>
                              <FormattedTextWidget EmSize="12" />
                            </WidgetTemplate>
                          </FastTreeDataGridColumn.CellTemplate>
                        </FastTreeDataGridColumn>
                        <FastTreeDataGridColumn Header="Units"
                                                SizingMode="Pixel"
                                                PixelWidth="140"
                                                ValueKey="{x:Static vm:DynamicDataNode.KeyUnits}">
                          <FastTreeDataGridColumn.CellTemplate>
                            <WidgetTemplate>
                              <FormattedTextWidget TextAlignment="Right" EmSize="12" />
                            </WidgetTemplate>
                          </FastTreeDataGridColumn.CellTemplate>
                        </FastTreeDataGridColumn>
                        <FastTreeDataGridColumn Header="Volume"
                                                SizingMode="Pixel"
                                                PixelWidth="160"
                                                ValueKey="{x:Static vm:DynamicDataNode.KeyVolume}">
                          <FastTreeDataGridColumn.CellTemplate>
                            <WidgetTemplate>
                              <FormattedTextWidget TextAlignment="Right" EmSize="12" />
                            </WidgetTemplate>
                          </FastTreeDataGridColumn.CellTemplate>
                        </FastTreeDataGridColumn>
                        <FastTreeDataGridColumn Header="Δ%"
                                                SizingMode="Pixel"
                                                PixelWidth="100"
                                                ValueKey="{x:Static vm:DynamicDataNode.KeyChange}">
                          <FastTreeDataGridColumn.CellTemplate>
                            <WidgetTemplate>
                              <FormattedTextWidget TextAlignment="Right" EmSize="12" />
                            </WidgetTemplate>
                          </FastTreeDataGridColumn.CellTemplate>
                        </FastTreeDataGridColumn>
                        <FastTreeDataGridColumn Header="Load"
                                                SizingMode="Pixel"
                                                PixelWidth="160"
                                                ValueKey="{x:Static vm:DynamicDataNode.KeyLoad}">
                          <FastTreeDataGridColumn.CellTemplate>
                            <WidgetTemplate>
                              <ProgressWidget />
                            </WidgetTemplate>
                          </FastTreeDataGridColumn.CellTemplate>
                        </FastTreeDataGridColumn>
                        <FastTreeDataGridColumn Header="Status"
                                                SizingMode="Pixel"
                                                PixelWidth="120"
                                                ValueKey="{x:Static vm:DynamicDataNode.KeyStatus}">
                          <FastTreeDataGridColumn.CellTemplate>
                            <WidgetTemplate>
                              <BadgeWidget Padding="6" />
                            </WidgetTemplate>
                          </FastTreeDataGridColumn.CellTemplate>
                        </FastTreeDataGridColumn>
                      </FastTreeDataGrid.Columns>
                    </FastTreeDataGrid>
                  </Border>
                </TabItem>
              </TabControl>
            </Grid>
          </TabItem>
        </TabControl>
      </TabItem>
    </TabControl>
  </Grid>
</Window>
