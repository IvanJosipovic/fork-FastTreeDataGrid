<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="clr-namespace:FastTreeDataGrid.Demo.ViewModels"
             xmlns:controls="clr-namespace:FastTreeDataGrid.Control.Controls;assembly=FastTreeDataGrid.Control"
             mc:Ignorable="d"
             x:Class="FastTreeDataGrid.Demo.Views.CountriesTab"
             x:DataType="vm:MainWindowViewModel">
  <Grid RowDefinitions="Auto,*">
    <StackPanel Grid.Row="0"
                Spacing="8"
                Margin="0,0,0,8"
                DataContext="{Binding Countries}">
      <StackPanel Orientation="Horizontal"
                  Spacing="8">
        <TextBox Width="220"
                 Watermark="Search countries..."
                 Text="{Binding SearchText, UpdateSourceTrigger=PropertyChanged}" />
        <TextBlock Text="Region:"
                   VerticalAlignment="Center" />
        <ComboBox Width="220"
                  ItemsSource="{Binding Regions}"
                  SelectedItem="{Binding SelectedRegion}"
                  VerticalAlignment="Center" />
      </StackPanel>
      <TextBlock Text="{Binding SelectionSummary}"
                 FontWeight="SemiBold" />
      <ItemsControl ItemsSource="{Binding SelectedCountryNames}">
        <ItemsControl.ItemsPanel>
          <ItemsPanelTemplate>
            <WrapPanel />
          </ItemsPanelTemplate>
        </ItemsControl.ItemsPanel>
        <ItemsControl.ItemTemplate>
          <DataTemplate>
            <Border Margin="0,0,6,6"
                    Padding="6,3"
                    Background="#FFF0F5"
                    BorderBrush="#FFB6C1"
                    BorderThickness="1"
                    CornerRadius="4">
              <TextBlock Text="{Binding}" />
            </Border>
          </DataTemplate>
        </ItemsControl.ItemTemplate>
      </ItemsControl>
      <TextBlock Text="Tip: Hold Shift or Ctrl while using arrows or clicks to build multi-selection. Use Left/Right to collapse or expand groups, and start typing to jump to a country."
                 TextWrapping="Wrap"
                 Foreground="#666" />
    </StackPanel>
    <Border Grid.Row="1" BorderBrush="#CCC" BorderThickness="1" CornerRadius="4" Padding="0" Margin="0">
      <controls:FastTreeDataGrid x:Name="CountriesGrid"
                                 ItemsSource="{Binding Countries.Source}"
                                 SelectionMode="Extended"
                                 SelectedIndices="{Binding Countries.SelectedIndices, Mode=TwoWay}"
                                 RowHeight="28"
                                 IndentWidth="18"
                                 HeaderHeight="34"
                                 TypeSearchSelector="{x:Static vm:CountriesViewModel.CountryNameSelector}" />
    </Border>
  </Grid>
</UserControl>
